<template>
  <div class="sidebar hidden-sm-and-down">
    <div class="toggle-container">
      <div class="toggle">
        <v-icon large @click="toggle">mdi-menu</v-icon>
      </div>
    </div>
    <div class="routes mt-15">
      <ul ref="nav">
        <div class="active-link"></div>
        <li
          v-if="userCategory === 'ADMIN'"
          @click="$router.push('/administration')"
          :class="{ active: activeRoute.includes('/administration') }"
        >
          <div class="link-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="35"
              height="23"
              viewBox="0 0 35 23"
            >
              <path
                id="Icon_material-people"
                data-name="Icon material-people"
                d="M25.364,17.357a4.833,4.833,0,0,0,4.757-4.929,4.767,4.767,0,1,0-9.53,0A4.846,4.846,0,0,0,25.364,17.357Zm-12.727,0a4.833,4.833,0,0,0,4.757-4.929A4.833,4.833,0,0,0,12.636,7.5a4.846,4.846,0,0,0-4.773,4.929A4.846,4.846,0,0,0,12.636,17.357Zm0,3.286C8.93,20.643,1.5,22.565,1.5,26.393V30.5H23.773V26.393C23.773,22.565,16.343,20.643,12.636,20.643Zm12.727,0c-.461,0-.986.033-1.543.082a6.982,6.982,0,0,1,3.134,5.668V30.5H36.5V26.393C36.5,22.565,29.07,20.643,25.364,20.643Z"
                transform="translate(-1.5 -7.5)"
              />
            </svg>
          </div>
          <div
            class="link-name animate__animated animate__bounce"
            v-show="state"
          >
            Administration
          </div>
        </li>
        <li
          v-if="userCategory === 'INSTRUCTOR'"
          @click="$router.push('/users')"
          :class="{ active: activeRoute.includes('/users') }"
        >
          <div class="link-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="23" viewBox="0 0 22 23" fill="none">
              <g clip-path="url(#clip0)">
                <path d="M18.7788 12.1808H17.0815C17.2545 12.6545 17.3491 13.1657 17.3491 13.6984V20.113C17.3491 20.3351 17.3104 20.5484 17.2401 20.7466H20.046C21.0941 20.7466 21.9468 19.8939 21.9468 18.8458V15.3489C21.9469 13.6021 20.5257 12.1808 18.7788 12.1808Z" fill="white"/>
                <path d="M4.59782 13.6985C4.59782 13.1657 4.69234 12.6546 4.86534 12.1809H3.16809C1.4212 12.1809 0 13.6021 0 15.349V18.8459C0 19.894 0.852696 20.7467 1.90085 20.7467H4.70682C4.63648 20.5484 4.59782 20.3352 4.59782 20.1131V13.6985Z" fill="white"/>
                <path d="M12.9135 10.5304H9.03332C7.28644 10.5304 5.86523 11.9516 5.86523 13.6985V20.1131C5.86523 20.463 6.14891 20.7467 6.49885 20.7467H15.4479C15.7979 20.7467 16.0816 20.463 16.0816 20.1131V13.6985C16.0816 11.9516 14.6604 10.5304 12.9135 10.5304Z" fill="white"/>
                <path d="M10.9731 2.13007C8.87225 2.13007 7.16309 3.83923 7.16309 5.94013C7.16309 7.36515 7.9496 8.60971 9.11113 9.26313C9.66207 9.57304 10.2972 9.75015 10.9731 9.75015C11.649 9.75015 12.2841 9.57304 12.8351 9.26313C13.9967 8.60971 14.7831 7.36511 14.7831 5.94013C14.7831 3.83927 13.074 2.13007 10.9731 2.13007Z" fill="white"/>
                <path d="M4.28299 5.68134C2.7118 5.68134 1.43359 6.95954 1.43359 8.53073C1.43359 10.1019 2.7118 11.3801 4.28299 11.3801C4.68154 11.3801 5.06106 11.2976 5.40581 11.1492C6.00188 10.8925 6.49336 10.4383 6.79748 9.86925C7.01095 9.46988 7.13238 9.01428 7.13238 8.53073C7.13238 6.95959 5.85417 5.68134 4.28299 5.68134Z" fill="white"/>
                <path d="M17.6638 5.68134C16.0927 5.68134 14.8145 6.95954 14.8145 8.53073C14.8145 9.01432 14.9359 9.46992 15.1494 9.86925C15.4535 10.4383 15.945 10.8926 16.541 11.1492C16.8858 11.2976 17.2653 11.3801 17.6638 11.3801C19.235 11.3801 20.5132 10.1019 20.5132 8.53073C20.5132 6.95954 19.235 5.68134 17.6638 5.68134Z" fill="white"/>
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="21.9464" height="21.9464" fill="white" transform="translate(0 0.46521)"/>
                </clipPath>
              </defs>
            </svg>
          </div>
          <div
            class="link-name animate__animated animate__bounce"
            v-show="state"
          >
            Users
          </div>
        </li>
        <li
          v-if="userCategory === 'INSTRUCTOR'"
          @click="$router.push('/faculties')"
          :class="{ active: activeRoute.includes('/faculties') }"
        >
          <div class="link-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="26" viewBox="0 0 22 26" fill="none">
              <path d="M10.9737 25.0983C10.9389 25.0983 10.9041 25.0952 10.8698 25.0892C4.46983 23.9667 0 20.1148 0 15.7221V1.2096C0 0.883251 0.266889 0.618652 0.596067 0.618652H21.3512C21.6804 0.618652 21.9472 0.883251 21.9472 1.2096V15.7221C21.9472 20.1148 17.4774 23.9667 11.0774 25.0892C11.0431 25.0952 11.0084 25.0983 10.9737 25.0983Z" fill="white"/>
              <path d="M11.3954 7.79366L5.06445 5.68335V14.9687L11.3954 17.079M11.3954 7.79366L17.7263 5.68335V14.5467L11.3954 17.079M11.3954 7.79366V17.079M13.5057 9.90397L16.0381 9.05985M13.5057 12.4363L16.0381 11.5922M9.28508 12.4363L6.7527 11.5922M9.28508 9.90397L6.7527 9.05985" stroke="#193074" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div
            class="link-name animate__animated animate__bounce"
            v-show="state"
          >
            Faculties
          </div>
        </li>
        <li
          v-if="userCategory === 'INSTRUCTOR'"
          @click="$router.push('/user-groups')"
          :class="{ active: activeRoute.includes('/user-groups') }"
        >
          <div class="link-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
              <g clip-path="url(#clip0)">
                <path d="M6.70238 4.29757C6.70238 2.56877 8.10391 1.16724 9.83294 1.16724C11.5617 1.16724 12.9634 2.56877 12.9634 4.29757C12.9634 6.02638 11.5617 7.42787 9.83294 7.42787C8.10391 7.42791 6.70238 6.02638 6.70238 4.29757ZM11.3373 9.56056C11.3687 8.87892 11.6034 8.24803 11.9809 7.72648C11.7159 7.67099 11.4421 7.64152 11.1611 7.64152H8.50511C8.22495 7.64152 7.95149 7.67076 7.68791 7.72557C8.08965 8.28279 8.32996 8.96333 8.33387 9.70005C8.82222 9.43145 9.38254 9.27853 9.97771 9.27853C10.4605 9.27853 10.9201 9.37911 11.3373 9.56056ZM11.8672 9.84154C12.7765 10.4117 13.4141 11.3762 13.5308 12.4962C13.9013 12.6693 14.313 12.7692 14.7492 12.7692C16.3421 12.7692 17.6333 11.478 17.6333 9.88504C17.6333 8.29195 16.3421 7.00093 14.7492 7.00093C13.1708 7.00097 11.8912 8.26908 11.8672 9.84154ZM9.97767 15.7471C11.5704 15.7471 12.8616 14.4554 12.8616 12.863C12.8616 11.2703 11.5704 9.97884 9.97767 9.97884C8.38485 9.97884 7.09305 11.2702 7.09305 12.863C7.0931 14.4554 8.38485 15.7471 9.97767 15.7471ZM11.2011 15.9434H8.75402C6.71786 15.9434 5.06095 17.6001 5.06095 19.6366V22.6297L5.06874 22.6765L5.27474 22.7406C7.21801 23.3475 8.90627 23.5505 10.296 23.5505C13.0097 23.5505 14.5833 22.7767 14.6802 22.7271L14.873 22.6296H14.8934V19.6365C14.8935 17.6001 13.2375 15.9434 11.2011 15.9434ZM15.9732 12.9661H13.5445C13.5181 13.9379 13.1034 14.813 12.4475 15.442C14.2575 15.9802 15.5818 17.6585 15.5818 19.6411V20.5634C17.9793 20.4751 19.3611 19.796 19.4521 19.7502L19.6449 19.6522H19.6654V16.6585C19.6657 14.6226 18.0089 12.9661 15.9732 12.9661ZM16.6224 6.93943C17.5317 7.50973 18.1693 8.47421 18.2857 9.59422C18.6562 9.76737 19.0679 9.86709 19.5041 9.86709C21.0974 9.86709 22.3884 8.57598 22.3884 6.9833C22.3884 5.39016 21.0973 4.09918 19.5041 4.09918C17.9259 4.099 16.6464 5.36738 16.6224 6.93943ZM20.7279 10.064H18.2997C18.2733 11.0358 17.8586 11.9109 17.2027 12.5398C19.0126 13.0779 20.3369 14.7564 20.3369 16.739V17.6613C22.7342 17.5732 24.1163 16.8941 24.2073 16.848L24.3998 16.7503H24.4206V13.7563C24.4208 11.7206 22.7641 10.064 20.7279 10.064ZM4.91704 12.7693C5.48128 12.7693 6.00594 12.6045 6.45087 12.3239C6.59236 11.4018 7.08672 10.5959 7.79264 10.0473C7.7956 9.99319 7.80056 9.93975 7.80056 9.88509C7.80056 8.29199 6.50904 7.00097 4.91704 7.00097C3.32367 7.00097 2.0327 8.29195 2.0327 9.88509C2.0327 11.4783 3.32363 12.7693 4.91704 12.7693ZM7.50719 15.442C6.85435 14.816 6.44103 13.9457 6.4106 12.9795C6.32081 12.9728 6.23166 12.9661 6.13987 12.9661H3.69308C1.65664 12.9661 0 14.6226 0 16.6588V19.6522L0.00756208 19.6988L0.213834 19.7631C1.77244 20.2505 3.164 20.4745 4.37262 20.5445V19.6408C4.37284 17.6585 5.6968 15.9799 7.50719 15.442Z" fill="white"/>
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="24.4206" height="24.4205" fill="white" transform="translate(0 0.148682)"/>
                </clipPath>
              </defs>
            </svg>
          </div>
          <div
            class="link-name animate__animated animate__bounce"
            v-show="state"
          >
            Groups
          </div>
        </li>
        <li
          v-if="userCategory === 'STUDENT' || userCategory === 'INSTRUCTOR'"
          @click="$router.push('/courses')"
          :class="{ active: activeRoute.includes('/courses') }"
        >
          <div class="link-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="101.875"
              height="87.321"
              viewBox="0 0 101.875 87.321"
            >
              <path
                id="Icon_ionic-md-school"
                data-name="Icon ionic-md-school"
                d="M20.783,53.891v19.4l32.4,18.533,32.4-18.533v-19.4l-32.4,18.533ZM53.187,4.5,2.25,33.607,53.187,62.714,94.869,38.905V72.424h9.255V33.607Z"
                transform="translate(-2.25 -4.5)"
              />
            </svg>
          </div>
          <div class="link-name" v-show="state">Courses</div>
        </li>
        <li
          v-if="userCategory === 'STUDENT' || userCategory === 'INSTRUCTOR'"
          @click="$router.push('/reports')"
          :class="{ active: activeRoute.includes('/reports') }"
        >
          <div class="link-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100"
              height="122.268"
              viewBox="0 0 100 122.268"
            >
              <path
                id="Path_20"
                data-name="Path 20"
                d="M229.942,77.458a1.177,1.177,0,0,0-.2-.811h0c-.013-.013-.026-.039-.039-.052h0c-.013-.013-.026-.039-.039-.052s-.026-.039-.039-.052l-.039-.039a.013.013,0,0,0-.013-.013L225.742,72.6q-4.436-4.456-8.886-8.886-5.006-5.006-9.985-10l-7.145-7.145c-.419-.419-.824-.864-1.269-1.269a2.165,2.165,0,0,0-1.688-.393h-56.73c-2.2,0-4.41-.2-6.412.916a7.322,7.322,0,0,0-3.664,6.321V159.3c0,.222-.013.432,0,.654a7.254,7.254,0,0,0,6.295,7.119,28.7,28.7,0,0,0,3.677.065H220.3a14.923,14.923,0,0,0,4.646-.34,7.317,7.317,0,0,0,5.012-6.87V77.458Zm-19.734,66.781H149.7a2.617,2.617,0,1,1,0-5.235h4.083V114.558a5.092,5.092,0,0,1,.249-2.264c.811-1.61,2.814-1.3,4.305-1.3h5.536c.563,0,1.139.013,1.7.026a1.126,1.126,0,0,1,.209.013c.039,0,.079.013.118.013s.079.013.118.013.052.013.079.013a1.089,1.089,0,0,1,.2.052h.013a2.361,2.361,0,0,1,.275.1h0a2.324,2.324,0,0,1,1.309,1.6,1.838,1.838,0,0,1,.118.406c0,.026.013.039.013.052v.013a.491.491,0,0,0,.013.131c0,.013-.013.026-.013.039V138.99h5.365v-.144c0-.222.026-.458.026-.681s.013-.471.013-.707c.013-.707.039-1.413.052-2.107,0-.2.013-.406.013-.6,0-.17,0-.327.013-.5V98.906c0-.327-.026-.641-.026-.968a3.439,3.439,0,0,1,.026-.366c.013-.079.026-.144.039-.209l.079-.275c.013-.026.026-.065.039-.092l.039-.079.118-.236c.013-.013.013-.039.026-.052a.794.794,0,0,1,.092-.131,2.274,2.274,0,0,1,1.583-.929c.065-.013.144-.013.222-.026.236-.013.484-.026.72-.026h.17c1.322-.026,2.643.013,3.965.039h4.2c.2,0,.38-.026.576-.013a2.332,2.332,0,0,1,.694.131c.013,0,.039.013.052.013a1.857,1.857,0,0,1,.458.222,1.372,1.372,0,0,1,.144.1h0c.052.039.092.079.144.118l.065.065.065.065a2.407,2.407,0,0,1,.222.288c.013.026.039.052.052.079a1.491,1.491,0,0,1,.131.249.638.638,0,0,1,.039.092,1.711,1.711,0,0,1,.118.366c.013.039.026.092.039.131s.013.065.026.092a1.45,1.45,0,0,1,.026.249V139H193.2c0-1.675.079-3.35.079-5.025V104.861a3.453,3.453,0,0,1,.065-.968,2.448,2.448,0,0,1,2.67-1.662h8.807a2.673,2.673,0,0,1,1.937.707c.065.065.131.144.2.222a1.952,1.952,0,0,1,.236.393h0a4.727,4.727,0,0,1,.17.458,1.32,1.32,0,0,1,.065.327V139h2.774a2.668,2.668,0,0,1,2.617,2.617A2.639,2.639,0,0,1,210.208,144.238Zm-6.5-68.181h-1.727c-.1,0-.222-.013-.327-.013-.157-.039-.314-.065-.471-.1-.131-.039-.707-.157-.34-.1.039,0,.079.013.1.013a1.027,1.027,0,0,1-.183-.065c-.131-.065-.249-.131-.38-.209l-.2-.131c-.026-.039-.353-.3-.419-.353-.026-.026-.144-.131-.249-.236a.273.273,0,0,0-.052-.079l-.039-.079c-.052-.065-.092-.144-.144-.209-.026-.039-.131-.209-.209-.353h0a.607.607,0,0,1-.039-.118,1.026,1.026,0,0,0-.065-.183c-.013-.026-.013-.039-.026-.065-.052-.157,0-.314-.131-.471h0v-.17h0a1.1,1.1,0,0,1-.026-.131.59.59,0,0,0,.026.1c0-.092-.013-.17-.013-.222,0-.222,0-.432.013-.654V59.176c0-1.767.026-3.533.039-5.3l6.072,6.072,16.11,16.11Z"
                transform="translate(-129.956 -44.898)"
              />
            </svg>
          </div>
          <div class="link-name" v-show="state">Reports</div>
        </li>
        <li
          v-if="userCategory === 'STUDENT' || userCategory === 'INSTRUCTOR'"
          @click="$router.push('/library')"
          :class="{ active: activeRoute.includes('/library') }"
        >
          <div class="link-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="174.421"
              height="121.839"
              viewBox="0 0 174.421 121.839"
            >
              <path
                id="Icon_metro-books"
                data-name="Icon metro-books"
                d="M38.108,8.571H7.648a5.092,5.092,0,0,0-5.077,5.077V125.334a5.092,5.092,0,0,0,5.077,5.077h30.46a5.092,5.092,0,0,0,5.077-5.077V13.648a5.092,5.092,0,0,0-5.077-5.077Zm-5.077,30.46H12.725V28.878H33.031V39.031ZM88.874,8.571H58.414a5.092,5.092,0,0,0-5.077,5.077V125.334a5.092,5.092,0,0,0,5.077,5.077h30.46a5.092,5.092,0,0,0,5.077-5.077V13.648a5.092,5.092,0,0,0-5.077-5.077ZM83.8,39.031H63.491V28.878H83.8Zm40.151-22.61-27.2,13.706A5.092,5.092,0,0,0,94.5,36.945l45.686,90.673c1.256,2.494,4.324,3.506,34.02-11.456a5.092,5.092,0,0,0,2.249-6.818L130.766,18.671a5.092,5.092,0,0,0-6.818-2.25Z"
                transform="translate(-2.571 -8.571)"
              />
            </svg>
          </div>
          <div class="link-name" v-show="state">Library</div>
        </li>
        <li
          @click="$router.push('/messages')"
          :class="{ active: activeRoute.includes('/messages') }"
        >
          <div class="link-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100"
              height="100"
              viewBox="0 0 100 100"
            >
              <path
                id="Icon_material-message"
                data-name="Icon material-message"
                d="M93,3H13A9.987,9.987,0,0,0,3.05,13L3,103,23,83H93a10.029,10.029,0,0,0,10-10V13A10.029,10.029,0,0,0,93,3ZM83,63H23V53H83Zm0-15H23V38H83Zm0-15H23V23H83Z"
                transform="translate(-3 -3)"
              />
            </svg>
          </div>
          <div class="link-name" v-show="state">Messages</div>
        </li>
        <li
          v-if="userCategory === 'INSTRUCTOR'"
          @click="$router.push('/quiz')"
          :class="{ active: activeRoute.includes('/quiz') }"
        >
          <div class="link-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="36"
              height="36"
              viewBox="0 0 36 36"
            >
              <path
                id="Icon_metro-question"
                data-name="Icon metro-question"
                d="M17.883,25.991h4.375v4.375H17.883Zm8.75-15.313a2.188,2.188,0,0,1,2.188,2.188v6.563L22.258,23.8H17.883V21.616l6.562-4.375V15.053H13.508V10.678H26.633ZM20.071,5.209A14.219,14.219,0,1,0,30.125,9.374,14.126,14.126,0,0,0,20.071,5.209Zm0-3.281a17.5,17.5,0,1,1-17.5,17.5,17.5,17.5,0,0,1,17.5-17.5Z"
                transform="translate(-2.071 -1.428)"
              />
            </svg>
          </div>
          <div class="link-name" v-show="state">Quiz</div>
        </li>
        <li
          v-if="userCategory === 'STUDENT' || userCategory === 'INSTRUCTOR'"
          @click="$router.push('/settings')"
          :class="{ active: activeRoute.includes('/sinz kbx') }"
        >
          <div class="link-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100"
              height="99.998"
              viewBox="0 0 100 99.998"
            >
              <path
                id="Icon_ionic-md-settings"
                data-name="Icon ionic-md-settings"
                d="M91.347,58.374a31.268,31.268,0,0,0,.255-5c0-1.75-.255-3.249-.255-5l10.737-8.249a2.3,2.3,0,0,0,.512-3.249L92.368,19.625a2.49,2.49,0,0,0-3.069-1l-12.785,5a37.216,37.216,0,0,0-8.692-5L66.032,5.375a2.74,2.74,0,0,0-2.557-2H43.019a2.74,2.74,0,0,0-2.557,2L38.416,18.624a43.3,43.3,0,0,0-8.695,5l-12.785-5a2.4,2.4,0,0,0-3.069,1L3.64,36.876a3.019,3.019,0,0,0,.512,3.249l11,8.249c0,1.75-.255,3.249-.255,5s.255,3.249.255,5L4.41,66.623A2.3,2.3,0,0,0,3.9,69.873L14.125,87.124a2.49,2.49,0,0,0,3.069,1l12.785-5a37.211,37.211,0,0,0,8.692,5l2.045,13.249a2.478,2.478,0,0,0,2.557,2H63.73a2.74,2.74,0,0,0,2.557-2l2.048-13.249a43.275,43.275,0,0,0,8.692-5l12.785,5a2.4,2.4,0,0,0,3.069-1l10.228-17.251a3.015,3.015,0,0,0-.512-3.249Zm-38.1,12.5a17.5,17.5,0,1,1,0-35,17.5,17.5,0,1,1,0,35Z"
                transform="translate(-3.375 -3.375)"
              />
            </svg>
          </div>
          <div class="link-name" v-show="state">Settings</div>
        </li>
      </ul>
    </div>
  </div>
</template>{
<script>
import { mapMutations, mapState } from "vuex";

export default {
  name: "Sidebar",
  computed: {
    ...mapState("sidebar_navbar", { state: "sidebar_expanded" }),
    activeRoute() {
      return this.$route.path;
    },
    userCategory() {
      return this.$store.state.user.user.category.name;
    },
  },
  methods: {
    ...mapMutations("sidebar_navbar", { toggle: "TOGGLE_SIDEBAR_EXPANSION" }),
  },
};
</script>
<style lang="scss" scoped>
.sidebar {
  height: 100vh;
  box-shadow: 0 0 15px 0 $secondary;
  transition: 0.4s ease-out;

  .toggle-container {
    border-bottom: 1px solid lighten($font, 65);

    .toggle {
      display: inline-flex;
      align-self: flex-start;
      padding: 1.2rem;
      margin: auto;
      width: fit-content;
      cursor: pointer;
    }
  }

  .routes {
    ul {
      list-style-type: none;
      padding: 0.5rem;
      position: relative;

      .active-link {
        display: none;
        width: 3.5rem;
        height: 3.5rem;
        margin: 0 auto;
        background: $primary;
        position: absolute;
        border-radius: 10px;
        box-shadow: 0 0 10px 0 lighten($color: $primary, $amount: 20);
      }
      li {
        padding: 0.8rem;
        margin: 1.5rem 0.2rem;
        cursor: pointer;
        display: flex;
        flex-direction: row;
        align-content: center;

        .link-icon {
          svg {
            width: 27px;
            height: 27px;
            fill: #828282;

            path {
              fill: #828282;
            }
          }
        }

        .link-name {
          transition: display 0.4s ease-out;
          padding: 0 2rem;
        }

        &.active {
          background: $primary;
          border-radius: 10px;
          // box-shadow: 0 0 10px 0 lighten($color: $primary, $amount: 20);

          svg {
            fill: $main;

            path {
              fill: $main;
            }
          }
          .link-name {
            color: $main;
          }
        }
      }
    }
  }
}
</style>
